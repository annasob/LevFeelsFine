<!DOCTYPE html>
<html>
<head>
<script src="http://code.jquery.com/jquery-latest.min.js"></script>

<script>
  var DURATION = 8;
  var DEFAULTEMT = "happy";
  var VIDEOHEIGHT = 270;
  var VIDEOWIDTH = 480;
  var twitterData  = "newTwitter";
  var emotion = "happy";
  var screenX, screenY, videoPosition;
  var playingVideo = false;
  var videoInterval;
  var allTweets = [];
  var unprocessedTwitter =[];
  var attributionData = {
    "happy" : {"img" : "", "info" : ""},
    "sad" : {"img" : "", "info" : ""},
    "angry" : {"img" : "", "info" : ""}
  };
  // Each emotion array	will hold URLs to start, then downloaded Images	after we get them all.
  var flickr = {
    happy: {images: [], position: 0},
    sad:   {images: [], position: 0},
    angry: {images: [], position: 0}
  };
  
  function fadeIn(audio) {
    // play the song if its not playing
    if (audio.paused) {
      audio.volume = 0.1; 
      audio.play();
    }
    // if the song's volume is below 1 put it up. 1 is max
    if (audio.volume < 1) {
      // Ternary Operator if volume is set to > 1 browser throws error
      audio.volume = ((audio.volume * 2) >= 1) ? 1 : audio.volume * 2;
      setTimeout(function(){fadeIn(audio)},1000);
    }
  };
  function fadeOut(audio) {
    // if the song's volume is above 0.03 lower it
    // using 0.0 will take too long since /2 gets into floating points
    if (audio.volume > 0.03) {
      audio.volume = ((audio.volume /2) <= 0) ? 0 : audio.volume /2;
      setTimeout(function(){fadeOut(audio)},1000);
    } else { audio.currentTime = 0; audio.pause(); }
  };
      
  function init() {
     
    /* Get the screen size */
    screenX = screen.availWidth;
    screenY = screen.availHeight;
    videoPosition = $("#videoDiv").position();
  };
    
  var flickrCallback = function(o, emt) {
    for (var i in o.items) {
      // Emotion arrays	start by holding URLs, we convert them to Images later.
      flickr[emt].images.push((o.items[i].media.m).replace(/_m\.jpg$/, ".jpg"));
    }
    getNextImage(emt);
  };

  var getNextImage = function(emt) {
    var	emotionImages =	flickr[emt].images;
    var	url = emotionImages.pop();

    if (!url) {
      return;
    }

    if (typeof url != 'string') {
      // Whoops, we just took an Image off the end of the array, we're done converting
      emotionImages.push(url);
      return;
    }

    var	callback = (function(aEmotion) {
      var emotion = aEmotion;
      return function()	{
      	getNextImage(emotion);
      };
    })(emt);

    var img = document.createElement('img');

    img.onload = (function(aArray, aCallback) {
      var arr      = aArray,
          callback = aCallback;
      return function() {
      	// Put downloaded images at the	front of the array.
        arr.unshift(this);
        callback();
      };
    })(emotionImages, callback);
    img.src = url;
  }

  var determineEmotion = function(concatTweet) {
    /* Declare var happy, sad, angry, and neutral, and get a count of how 
       often each words pertaining to these emotions are mentioned */
    var happy = 0;
    var sad = 0;
    var angry = 0;
    
    var tweetArray = concatTweet.split(' ');
    var internetRegex = /http:\/\/*/;   //Regex for the start of a url*/

    for (i = 0; i < tweetArray.length; i++ ) {
      if (tweetArray[i] === "happy" || tweetArray[i] === "excited" || 
          tweetArray[i] === "woot" || tweetArray[i] === ":)" || 
          tweetArray[i] === "wow" || tweetArray[i] === "awesome" ||
          tweetArray[i] === "(:" || tweetArray[i] === "yay" ||
          tweetArray[i] === ":D" || tweetArray[i] === "=)" ||
          tweetArray[i] === "friday" || tweetArray[i] === "love" || tweetArray[i] === "like") { 
            ++happy; 
      }
      else if (tweetArray[i] === "sad" || tweetArray[i] === ":(" ||
              tweetArray[i] === "bummed" || tweetArray[i] === "disappointed" ||
              tweetArray[i] === "sucks" || tweetArray[i] === ":'(" ||
              tweetArray[i] === "rip"  || tweetArray[i] === "r.i.p." || 
              tweetArray[i] === "died" || tweetArray[i] === "dead" || tweetArray[i] === "want") { 
            ++sad; 
      }
      else if (tweetArray[i] === "angry" || tweetArray[i] === "pissed" ||
              tweetArray[i] === "fucked" || tweetArray[i] === "hell" ||
              tweetArray[i] === "stinks" || tweetArray[i] === "upset" ||
              tweetArray[i] === "dammit" ||tweetArray[i] === "crud" ||
              tweetArray[i] === "damn" || tweetArray[i] === ":@" || tweetArray[i] === "hate") { 
            ++angry; 
      }
    } //end for-loop

    if (happy >= sad && happy >= angry) {
      emotion = "happy";
    }
    else if (sad >= happy && sad >= angry) {
      emotion = "sad";
    }
    else if (angry >= sad && angry >= happy) {
      emotion = "angry";
    }
  };
  
  var processTweets = function() {
    var tweetObject = "";
    var oneTweet = unprocessedTwitter.pop();
    if (!oneTweet) { 
      getTwitter();
      return; 
    }
    if (!oneTweet.text) return;
      
    tweetObject = { "tweetPic" : oneTweet.profile_image_url, 
                    "tweet" : oneTweet.text,
                    "twitterId" : oneTweet.from_user};
        // only add new tweets to the array so we dont reprint old tweets
        // only use new tweets to determine emotion
        
        //setTimeout(
          //(function(aTweet) {
          //  var tweet = aTweet;
          //  return function() { 
          //    printTweet(tweet);
          //  };
          //})(tweetObject), 1500);
    printTweet(tweetObject);
    setTimeout(processTweets, 5000);
  };
  var getTwitter = function getTwitter(){
    /* Get tweets from twitter */
    $.getJSON('http://search.twitter.com/search.json?q=%23' + twitterData + '&callback=?',
        null, function(data) {
          var tweetText = "";
          // only do something when data is received
          if( data.results.length ) {
            
            for( var i =0 ; i < data.results.length; i++)
            {
                if ($.inArray(data.results[i].text, allTweets) === -1) {
                  tweetText += data.results[i].text + " ";
                  allTweets.push(data.results[i].text); 
                  unprocessedTwitter.unshift(data.results[i]);
                }
            }
            determineEmotion(tweetText);
            processTweets();
          }
       
    });    
  };
  var printTweet = function(tweetToPrint) {
    /* Declare containers */
    bdy = document.getElementById('tweets'); // Gets div
    /* container will contain div for tweetPic and tweet */
    container = document.createElement('span');
    containerWidth = 450;
    containerHeight = 120;

    tweetContainer = document.createElement('span');
    picContainer = document.createElement('span');
    picture = document.createElement('img');
    var picHeight = 114;
    var picWidth = 120;
   
    /* Generate random x and y coordinates */
    var fitsInScreen = false;
    while (!fitsInScreen) {
      x = Math.round(Math.random()*(screenX));
      y = Math.round(Math.random()*(screenY));
      if ((x < screenX - containerWidth) && (y < screenY - containerHeight)) {
        //if ((x + containerWidth < videoPosition.left || x + containerWidth > videoPosition.left +VIDEOWIDTH) && 
            //(y + containerHeight < videoPosition.top || y + containerHeight > videoPosition.top +VIDEOHEIGHT))
            fitsInScreen = true;
      }
    }

    /* Declare colours for each of the hashtags */
    if (emotion === "angry") {
      var colours = ["#EE9A49", "#CC3232", "#B22222", "#330000", "#8B7D7B",
                      "#EED5D2", "#FF2400", "#FF6347", "#5E2612", "#E3170D"];
    }
    else if (emotion === "sad") {
      var colours = ["#525C65", "#4D4DFF", "#4D6FAC", "#42526C", "#7171C6",
                      "#8968CD", "#104E8B", "#694489", "#0147FA", "#2F2F4F"];
      
    }
    else if (emotion === "happy") {
      var colours = ["#698B22", "#FFE600", "#A2C93A", "#FFA824", "#FF8600",
                      "#B13E0F", "#FF3030", "#00B2EE", "#499DF5", "#8968CD"];
    }

    /* The following will randomly determine the colour that the tweet is
      to be printed in */      
    var index = Math.floor(Math.random() * 10);
    
    /* Set attributes of the container */
    $(container).css({'position': 'absolute', 
                    'top' : y + 'px', 
                    'left' : x +'px', 
                    'width' : containerWidth + 'px', 
                    'height' : containerHeight + 'px', 
                    'background-color' : colours[index],
                    'border-radius': '15px',
                    '-moz-border-radius': '10px',
                    '-webkit-border-radius': '10px',
                    'z-index' : '-1'});

    /* Set attributes of the picture container */
    $(picContainer).css({ 'float' : 'left',
                    'margin-right' : '5px',
                    'width' : picWidth + 'px',
                    'height' : picHeight + 'px',
                    'padding-left': '3px',
                    'padding-top' : '3px'});
    /* Should picContainer have a z-index = 0? */

    $(picture).css({'border-radius': '15px',
                    '-moz-border-radius': '10px',
                    '-webkit-border-radius': '10px',
                    'z-index' : '-1'});

    picture.src = tweetToPrint.tweetPic;
    picture.width = picWidth;
    picture.height = picHeight;
    picContainer.appendChild(picture);
    container.appendChild(picContainer);
    
    text = document.createTextNode( "@"+ tweetToPrint.twitterId + ": " + tweetToPrint.tweet.replace(/&gt;/g, '>').replace(/&lt;/g, '<').replace(/&amp;/g, '&').replace(/&quote;/g, '"'));
    tweetContainer.appendChild(text);
    container.appendChild(tweetContainer);

    /* Fade in to screen */
    $(container).fadeIn(3000);
    /* Reduce opacity */
    $(container).fadeTo(1000, 0.15);

    bdy.appendChild(container);

  }; //end printTweet

  // skews an image on four x and y points.
  // make sure the image is using it's natural height and width (don't stretch it) or this function will break!
  CanvasRenderingContext2D.prototype.skew=function(src, co){
    this.save();
    var height=src.height,
        width=src.width,
        t=document.createElement('CANVAS').getContext('2d'),
        leftSpace=Math.min(co[0][0], co[2][0]),
        totalWidth=Math.max(co[1][0], co[3][0])-leftSpace,
        topWidth=co[1][0]-co[0][0],
        botWidth=co[3][0]-co[2][0],
        leftChange=co[2][0]-co[0][0],
        leftTop=co[0][1]-(co[1][1]-co[0][1])*(co[0][0]-leftSpace)/(co[1][0]-co[0][0]),
        rightTop=co[1][1]+(co[1][1]-co[0][1])*(leftSpace+totalWidth-co[1][0])/(co[1][0]-co[0][0]),
        leftBot=co[2][1]-(co[3][1]-co[2][1])*(co[2][0]-leftSpace)/(co[3][0]-co[2][0])-leftTop,
        rightBot=co[3][1]+(co[3][1]-co[2][1])*(leftSpace+totalWidth-co[3][0])/(co[3][0]-co[2][0])-rightTop;
    t.canvas.setAttribute('width', totalWidth);
    t.canvas.setAttribute('height', height);
    if (co[2][0]<co[0][0]) {
      t.translate(co[0][0]-co[2][0], 0);
    }
    for (var i=0; i<height; i++) {
      t.drawImage(src, 0, i, width, 1, leftChange*i/height, i, Math.abs((topWidth*(height-i)+botWidth*i)/height), 1);
    }
    for (var i=0; i<totalWidth; i++) {
      this.drawImage(t.canvas, i, 0, 1, height, leftSpace+i, (leftTop*(totalWidth-i)+rightTop*i)/totalWidth, 1, (leftBot*(totalWidth-i)+rightBot*i)/totalWidth);
    }
    this.restore();
  };

  var playVideo = function() {
    document.getElementById("attribution").style.display = "inline";
    var interval = 0,
       videoLoaded = false,
        step = true,
        oldEmotion = "",
        counter,
        image = document.getElementById("image"),
        video = document.getElementById(emotion),
        middle = document.getElementById("middle"),
        canvasCtx = document.getElementById("canvas").getContext("2d"),
        imageCanvas = document.getElementById("canvas2").getContext("2d");
        document.getElementById("canvas").style.display = "inline";
      videoInterval = setInterval((function() {
      	if (step) { // video one "face" is playing
          if (!videoLoaded) { // loads second "middle" video if it's not loaded
            videoLoaded = true;
            middle.pause();
            middle.currentTime = 0;
            video.play();
            //get the image from flickr array
            image.src = flickr[emotion].images[flickr[emotion].position].src;
            flickr[emotion].position ++;
            if (flickr[emotion].position >= flickr[emotion].images.length) { flickr[emotion].position = 0; }            
          }
          if (video.currentTime <= DURATION) { // draw frame of first "face" video
            canvasCtx.drawImage(video, 0, 0, video.width, video.height);
            //mozRequestAnimationFrame instead of drawimage
          } else { // first "face" video is done, stop first video
            step = false;
            document.getElementById("canvas2").style.display = "inline";
            imageCanvas.skew(image, [[129,5],[406,39],[96,157],[374,209]]);
          }
        } else { // video two "middle" is playing
          if (videoLoaded) { // loads first "face" video if it's not loaded
          	videoLoaded = false;
            video.pause();
            video.currentTime = 0;
            oldEmotion = video.id;
            // update video if emotion changed
            video = document.getElementById(emotion);
            video.pause();
            video.currentTime = 0;
            middle.play();
            if (oldEmotion !== emotion) {
              fadeOut(document.getElementById(oldEmotion+"Song"));
              document.getElementById('imgattribution').src = attributionData[emotion]["img"];
              fadeIn(document.getElementById(emotion+"Song"));
            }
          }
          if (middle.currentTime <= DURATION) { // updated frame for second "middle" video
            canvasCtx.drawImage(middle, 0, 0, video.width, video.height);
            //imageData = canvasCtx.getImageData(0, 0, 480, 270);

          } else { // second "middle" video is done, stop second video
            step = true;
            document.getElementById("canvas2").style.display = "none";
          }
        }
      }), 10);  
  };
  
// Call ready event when DOM is loaded
addEventListener('DOMContentLoaded', function(){ 
document.getElementById("happySong").muted = true;
document.getElementById("sadSong").muted = true;
document.getElementById("angrySong").muted = true;

  $.getJSON('http://api.flickr.com/services/feeds/photos_public.gne?tags=happy&lang=en-us&format=json&jsoncallback=?',null, function(data){ flickrCallback(data, "happy");
    $.getJSON('http://api.flickr.com/services/feeds/photos_public.gne?tags=sad&lang=en-us&format=json&jsoncallback=?',null, function(data){ flickrCallback(data, "sad");
      $.getJSON('http://api.flickr.com/services/feeds/photos_public.gne?tags=angry&lang=en-us&format=json&jsoncallback=?',null, function(data){ flickrCallback(data, "angry");
        playVideo();
        document.getElementById(emotion+"Song").play();
         
      });
    });
  });
  getTwitter();
  init();
}, false);

window.onresize = function (){
    videoPosition = $("#videoDiv").position();
};
var open = false;
function openAttribution() {
  if (!open) {
    open = true;
    $('#videoDiv').css({'z-index':-1});
    $('#videoDiv').animate({ 'height' : "+=75px"}, "slow");
    $('#attribution').animate({ 'top' : "+=75px"}, "slow");
  }
}
function closeAttribution() {
  if (open) {
    $('#videoDiv').css({'z-index':3});
    $('#videoDiv').animate({ 'height' : "-=75px"}, "slow");
    $('#attribution').animate({ 'top' : "-=75px"}, "slow");
    open = false;
  }
}

function toggleMute() {
  if (emotion === "happy") {
    document.getElementById('happySong').muted = !document.getElementById('happySong').muted;
    if (document.getElementById('happySong').muted) {
      document.getElementById('muted').innerHTML = "unmute music";
    } else {
      document.getElementById('muted').innerHTML = "mute music";
    }
  } else if (emotion === "sad") {
    document.getElementById('sadSong').muted = !document.getElementById('sadSong').muted;
    if (document.getElementById('sadSong').muted) {
      document.getElementById('muted').innerHTML = "unmute music";
    } else {
      document.getElementById('muted').innerHTML = "mute music";
    }
  } else if (emotion === "angry") {
    document.getElementById('angrySong').muted = !document.getElementById('angrySong').muted;
    if (document.getElementById('angrySong').muted) {
      document.getElementById('muted').innerHTML = "unmute music";
    } else {
      document.getElementById('muted').innerHTML = "mute music";
    }
  }
}
</script>
</head>
<div id="tweets"></div>
<video src="http://scotland.proximity.on.ca/sdowne/LevFeelsFine/videos/sad.ogg" style="display:none;" width="480" height="270" id="sad"></video>
<video src="http://scotland.proximity.on.ca/sdowne/LevFeelsFine/videos/happy.ogg" style="display:none;" width="480" height="270" id="happy"></video>
<video src="http://scotland.proximity.on.ca/sdowne/LevFeelsFine/videos/angry.ogg" style="display:none;" width="480" height="270" id="angry"></video>
<video src="http://scotland.proximity.on.ca/sdowne/LevFeelsFine/videos/middle.ogg" style="display:none;" width="480" height="270" id="middle"></video>

<img style="display:none;" id="image" />
<div onmouseover="openAttribution();" style="z-index:3;border-radius:10px;-moz-border-radius: 10px;-webkit-border-radius: 10px;position:fixed;left:50%;top:50%;margin:-135px 0 0 -240px;width:510px;height:300px;" id="videoDiv" width="480" height="270" >
</div>
<div onmouseover="closeAttribution();" style="position:fixed;left:0%;top:0%;z-index:0;width:100%;height:100%;" id="videoDiv" width="480" height="270"></div>
<canvas style="z-index:2;display:none;border-radius:10px;-moz-border-radius: 10px;-webkit-border-radius: 10px;position:fixed;left:50%;top:50%;margin:-135px 0 0 -240px;border-style:solid;border-width:15px;" id="canvas" width="480" height="270" ></canvas>
<canvas style="z-index:2;display:none;border-radius:10px;-moz-border-radius: 10px;-webkit-border-radius: 10px;position:fixed;left:50%;top:50%;margin:-135px 0 0 -240px;border-style:solid;border-width:15px;" id="canvas2" width="480" height="270" ></canvas>

<div style="display:none;background-color:#000;z-index:1;border-radius:10px;-moz-border-radius: 10px;-webkit-border-radius: 10px;position:fixed;left:50%;top:50%;margin:-135px 0 0 -240px;border-style:solid;border-width:15px;width:480px;height:270px;" id="attribution">
  <div style="position:relative;">
    <audio style="display:none;width:480px;position:absolute;top:225px;" src="http://scotland.proximity.on.ca/sdowne/LevFeelsFine/music/sad.ogg" id="sadSong" controls loop="loop"></audio>
    <audio style="display:none;width:480px;position:absolute;top:225px;" src="http://scotland.proximity.on.ca/sdowne/LevFeelsFine/music/happy.ogg" id="happySong" controls loop="loop"></audio>
    <audio style="display:none;width:480px;position:absolute;top:225px;" src="http://scotland.proximity.on.ca/sdowne/LevFeelsFine/music/angry.ogg" id="angrySong" controls loop="loop"></audio>
    <a href="javascript:toggleMute();" style="color:#FFF;position:absolute;top:215px;left:75%;" id="muted">unmute music</a>
    <p style="color:#FFF;position:absolute;top:200px;left:0px;" id="textattribution">This song's copyright information.</p>
    <p style="color:#FFF;position:absolute;top:240px;left:90px;" id="textattribution">default attribution info</p>
    <img style="position:absolute;top:240px;left:0px;" id="imgattribution" src="data:image/png;base64,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"/>
  </div>
</div>

</html>
